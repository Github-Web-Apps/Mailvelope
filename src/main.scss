// fonts
@import "./res/styles/fonts";

// icons
@import "./res/styles/icons";

// Required (functions, vars, mixins)
@import "./res/styles/_required";

// override mixins
@import "./res/styles/_mixins";

// Optional
@import "../node_modules/bootstrap/scss/root";
@import "../node_modules/bootstrap/scss/reboot";
@import "../node_modules/bootstrap/scss/type";
@import "../node_modules/bootstrap/scss/images";
@import "../node_modules/bootstrap/scss/code";
@import "../node_modules/bootstrap/scss/grid";
@import "../node_modules/bootstrap/scss/tables";
@import "../node_modules/bootstrap/scss/forms";
@import "../node_modules/bootstrap/scss/buttons";
@import "../node_modules/bootstrap/scss/transitions";
@import "../node_modules/bootstrap/scss/dropdown";
@import "../node_modules/bootstrap/scss/button-group";
@import "../node_modules/bootstrap/scss/input-group";
@import "../node_modules/bootstrap/scss/custom-forms";
@import "../node_modules/bootstrap/scss/nav";
@import "../node_modules/bootstrap/scss/navbar";
@import "../node_modules/bootstrap/scss/card";
@import "../node_modules/bootstrap/scss/breadcrumb";
// @import "../node_modules/bootstrap/scss/pagination";
@import "../node_modules/bootstrap/scss/badge";
@import "../node_modules/bootstrap/scss/jumbotron";
@import "../node_modules/bootstrap/scss/alert";
@import "../node_modules/bootstrap/scss/progress";
// @import "../node_modules/bootstrap/scss/media";
@import "../node_modules/bootstrap/scss/list-group";
@import "../node_modules/bootstrap/scss/close";
// @import "../node_modules/bootstrap/scss/toasts";
@import "../node_modules/bootstrap/scss/modal";
@import "../node_modules/bootstrap/scss/tooltip";
// @import "../node_modules/bootstrap/scss/popover";
// @import "../node_modules/bootstrap/scss/carousel";
// @import "../node_modules/bootstrap/scss/spinners";
@import "../node_modules/bootstrap/scss/utilities";
@import "../node_modules/bootstrap/scss/print";

// Custom imports
@import "./res/styles/_custom";
@import "./components/util/Spinner";

// set browser styles
::-webkit-input-placeholder {
   font-style: italic;
}
:-moz-placeholder {
   font-style: italic;  
}
::-moz-placeholder {
   font-style: italic;  
}
:-ms-input-placeholder {  
   font-style: italic; 
}

// custom classes
strong {
  font-weight: 500;  
}

// remove text underline from button links and nav-links
a.btn,
a.nav-link {
  text-decoration: none;
}

.card-clean {
  border: 0;
  .card-header {
    padding-left: 0.5rem;
    padding-right: 0;
    background-color: transparent;
    h3 {
      margin-bottom: 0;
    }
  }
  .card-body {
    padding: 1.25rem 0.5rem;
  }
}

.card-clean-table {
  @extend .card-clean;
  .card-header {
    border-bottom: 0;
  }
}

.table-custom {
  border-bottom: $table-border-width solid $table-border-color;
  th {
    border: 0 !important;
    padding-top: 0.375rem;
    padding-bottom: 0.375rem;
    font-size: 0.75rem;
    font-weight: 400;
    background-color: $gray-200;
    color: $gray-900;
    &:first-child {
      border-top-left-radius: $border-radius-sm;
      border-bottom-left-radius: $border-radius-sm;
    }
    &:last-child {
      border-top-right-radius: $border-radius-sm;
      border-bottom-right-radius: $border-radius-sm;
    }
  }
  tr {
    &:first-child {
      td {
        border-top: 0;
      }
    }

    td {
      strong {
        font-size: 1rem;
      }
    }
  }  

  &.table-hover {
    cursor: pointer;

    tr {
      .actions {
        text-align: right;
        white-space: nowrap;
        > .btn {
          visibility: hidden;
        }

        > .icon {
          margin-left: 0.5rem;
        }
      }

      &:hover .actions > .btn {
        visibility: visible;
      }
    }

  }

}




// BS class overrides

.modal-header h3 {
  font-size: 1.125rem;
   ~ .close {
    font-size: 1rem;
    padding-top: $modal-inner-padding + 0.4rem;
  }
}

// navbar
nav {
  &.navbar > .container  {
    .navbar-brand {
      margin-right: 2rem;
    }

    .nav-item {
      .nav-link {
        font-family: $headings-font-family;
        font-size: 1rem;
        font-weight: 400;
        color: $gray-900;
      }      
    }

    &:first-child .nav-item {
      position: relative;
      &:not(:last-child) {
        @include media-breakpoint-up(md) {
          margin-right: 1rem;
        }          
      }

      &::after {
        content:' ';
        position: absolute;
        top: 92%;
        left: 50%;
        width: 50%;
        height: 0.125rem;
        background-color: transparent;
        transform:translateX(-50%);
      }
      
      &:hover {
        .nav-link {
          color: $black;
        }                
      }

      // &:hover::after {
      //   background-color: $black;
      //   width: 40%;
      // }
      &.active {
        .nav-link {
          color: theme-color("primary");
          font-weight: 500;
        }          
      }

      &.active::after {
        @include media-breakpoint-up(md) {
          background-color: theme-color("primary");
        }        
      }
    }
  }
}

// nav-pills
.nav-pills {
  // font-family: $headings-font-family;
  // font-size: 1rem;

  .nav-link { 
    display: flex;
    align-items: center;
    font-size: inherit;
    line-height: 1;
    color: $yiq-text-dark;
    padding: 0.25rem 0;
  }  

  .nav-link.active {
    font-weight: 500;
    color: theme-color("primary");
    background-color: transparent;
    &::after {
      display: inline-block;
      height: 14px;
      width: 14px;
      margin-left: 0.25rem;
      @include media-breakpoint-up(md) {
        content: str-replace(url("data:image/svg+xml,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cpath fill='#{theme-color("primary")}' d='M7.89429765,3.32720883 L11.0070864,9.5527864 C11.2540757,10.0467649 11.0538513,10.6474379 10.5598728,10.8944272 C10.4210174,10.9638549 10.2679043,11 10.1126592,11 L3.88708167,11 C3.33479692,11 2.88708167,10.5522847 2.88708167,10 C2.88708167,9.8447549 2.92322676,9.69164184 2.99265448,9.5527864 L6.10544327,3.32720883 C6.35243252,2.83323033 6.95310556,2.63300598 7.44708406,2.87999523 C7.64061146,2.97675893 7.79753395,3.13368142 7.89429765,3.32720883 Z' transform='translate(7.000000, 7.000000) rotate(90.000000) translate(-7.000000, -7.000000) '%3E%3C/path%3E%3C/g%3E%3C/svg%3E"), "#", "%23");
      }  
      @include media-breakpoint-down(md) {
        content: str-replace(url("data:image/svg+xml,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cpath fill='#{theme-color("primary")}' d='M7.89429765,3.32720883 L11.0070864,9.5527864 C11.2540757,10.0467649 11.0538513,10.6474379 10.5598728,10.8944272 C10.4210174,10.9638549 10.2679043,11 10.1126592,11 L3.88708167,11 C3.33479692,11 2.88708167,10.5522847 2.88708167,10 C2.88708167,9.8447549 2.92322676,9.69164184 2.99265448,9.5527864 L6.10544327,3.32720883 C6.35243252,2.83323033 6.95310556,2.63300598 7.44708406,2.87999523 C7.64061146,2.97675893 7.79753395,3.13368142 7.89429765,3.32720883 Z' transform='translate(7.000000, 7.000000) rotate(180.000000) translate(-7.000000, -7.000000) '%3E%3C/path%3E%3C/g%3E%3C/svg%3E"), "#", "%23");
      }  
    }
  }

  .nav-link:not(:last-child),
  .show > .nav-link:not(:last-child) {
    margin-bottom: 1rem;
  }

  .nav-link:not(.active):hover,
  .show > .nav-link:not(.active):hover {
    color: $black;
  }
}



// breadcrump-item

.breadcrumb {
  margin-left: -0.5rem;
  margin-bottom: 0.5rem;

  .breadcrumb-item {  
    & > a {
      line-height: 1;
      font-weight: 500;
      font-size: 0.75rem;
      text-decoration: none;
      color: theme-color("primary");
      padding: 0.5rem 0.625rem;
      border-radius: $border-radius;
      background-color: transparent;

      &:hover {
        background-color: rgba(theme-color("primary"),0.1);
      }

      &:active {
        background-color: rgba(theme-color("primary"),0.2);
      }

      &.active {
        background-color: rgba(theme-color("primary"),0.1);
      }
    }
  }
}

.alert {
  padding-top: 0.3rem;
  padding-bottom: 0.3rem;
  display: inline-block;
  border-left-width: 0.25rem;
}

// alerts custom css 
@each $color, $value in $theme-colors {
  .alert-#{$color} {
    border-left-color: theme-color($color);
  }
}

// button custom css
@each $color, $value in $theme-colors {
  .btn-#{$color} {
    @include button-variant-custom($color, $value);
  }
}


.input-group:not(.input-group-sm):not(.input-group-lg) > .input-group-prepend > .btn, 
.input-group:not(.input-group-sm):not(.input-group-lg) > .input-group-append > .btn {
  @include border-radius($btn-border-radius !important);
}

.input-group-sm > .input-group-prepend > .btn,
.input-group-sm > .input-group-append > .btn {
  @include border-radius($btn-border-radius-sm !important);
}

.input-group-lg > .input-group-prepend > .btn,
.input-group-lg > .input-group-append > .btn {
  @include border-radius($btn-border-radius-lg !important);
}


.input-group > .input-group-prepend > .btn:not(:last-child),
.input-group > .input-group-append > .btn:not(:last-child) {
  @include border-right-radius(0 !important);  
}

.input-group > .input-group-prepend > .btn:not(:first-child),
.input-group > .input-group-append > .btn:not(:first-child) {
  @include border-left-radius(0 !important);  
}

.input-group:not(.input-group-sm):not(.input-group-lg) > .form-control + .input-group-append > .btn:first-of-type {
  margin-left: -$btn-border-radius;
}

.input-group-sm > .form-control + .input-group-append > .btn:first-of-type {
  margin-left: -$btn-border-radius-sm;
}

.input-group-lg > .form-control + .input-group-append > .btn:first-of-type {
  margin-left: -$btn-border-radius-lg;
}

.input-group:not(.input-group-sm):not(.input-group-lg) > .input-group-prepend > .btn:last-of-type {
  margin-right: -$btn-border-radius;
}

.input-group-sm > .input-group-prepend > .btn:last-of-type {
  margin-right: -$btn-border-radius-sm;
}

.input-group-lg > .input-group-prepend > .btn:last-of-type {
  margin-right: -$btn-border-radius-lg;
}

// fix custom control
.custom-control-input {
  &:focus ~ .custom-control-label::before {
    @if $enable-shadows {
      box-shadow: $custom-control-indicator-focus-box-shadow, $input-focus-box-shadow !important;
    } @else {
      box-shadow: $input-focus-box-shadow !important;
    }
  }
  &:focus:not(:checked) ~ .custom-control-label::before {
    box-shadow: none !important;
  }
}

.custom-range {
  &:focus {
    border: 0 !important;
    // Pseudo-elements must be split across multiple rulesets to have an effect.
    // No box-shadow() mixin for focus accessibility.
    &::-webkit-slider-thumb { box-shadow: $custom-range-thumb-box-shadow, $custom-range-thumb-focus-box-shadow !important; }
    &::-moz-range-thumb     { box-shadow: $custom-range-thumb-box-shadow, $custom-range-thumb-focus-box-shadow !important; }
    &::-ms-thumb            { box-shadow: $custom-range-thumb-box-shadow, $custom-range-thumb-focus-box-shadow !important; }
  }

  &::-webkit-slider-thumb {
     &:active {
      border: 0 !important;
      box-shadow: $custom-range-thumb-focus-box-shadow !important;
      // @include gradient-bg($custom-range-thumb-active-bg);
    }
  }

  &::-moz-range-thumb {
    &:active {
      border: 0 !important;
      box-shadow: $custom-range-thumb-focus-box-shadow !important;
      // @include gradient-bg($custom-range-thumb-active-bg);
    }
  }

  &::-ms-thumb {
    &:active {
      border: 0 !important;
      box-shadow: $custom-range-thumb-focus-box-shadow !important;
      // @include gradient-bg($custom-range-thumb-active-bg);
    }
  }

  &:disabled {
    &::-webkit-slider-thumb {
      border: 0 !important;
      // background-color: $custom-range-thumb-disabled-bg;
    }
    &::-moz-range-thumb {
      border: 0 !important;
      // background-color: $custom-range-thumb-disabled-bg;
    }
    &::-ms-thumb {
      border: 0 !important;
      // background-color: $custom-range-thumb-disabled-bg;
    }
  }
}


.custom-switch {
  padding-left: $custom-switch-width + $custom-control-gutter;

  .custom-control-label {
    // background
    &::before {
      top: ($font-size-base * $line-height-base - $custom-switch-size) / 2;
      left: -($custom-switch-width + $custom-control-gutter);
      width: $custom-switch-width;
      height: $custom-switch-size;
      background-color: $custom-switch-track-bg;
      border: 1px solid $custom-control-indicator-border-color;
      pointer-events: all;
      // stylelint-disable-next-line property-blacklist
      border-radius: $custom-switch-indicator-border-radius;
      @include transition(transform .15s ease-in-out, $custom-forms-transition);      
    }

    &::after {
      // knob
      top: calc(#{(($font-size-base * $line-height-base - $custom-switch-size) / 2)} + #{$custom-control-indicator-border-width * 2}) !important;
      left: calc(#{-($custom-switch-width + $custom-control-gutter)} + #{$custom-control-indicator-border-width * 2}) !important;
      width: $custom-switch-indicator-size;
      height: $custom-switch-indicator-size;
      background-color: $custom-switch-indicator-bg !important;
      border: 1px solid $gray-700;
      // stylelint-disable-next-line property-blacklist
      border-radius: $custom-switch-indicator-size/2;
      @if $enable-shadows {
        box-shadow: inset 0 -1px 0px $gray-700;
      } @else {
        box-shadow: none;
      }

    }
  }

  .custom-control-input:checked ~ .custom-control-label {
    &::after {
      background-color: $custom-control-indicator-checked-bg !important;
      border: 1px solid $custom-control-indicator-checked-border-color;
      @if $enable-shadows {
        box-shadow: $custom-control-indicator-checked-box-shadow !important;
      } @else {
        box-shadow: none;
      }      
      transform: translateX($custom-switch-width - $custom-switch-size) !important;
    }
  }

  .custom-control-input:checked ~ .custom-control-label {
    &::before {
      background-color: rgba($custom-control-indicator-checked-bg, 0.1);
      border: 1px solid rgba($custom-control-indicator-checked-bg, 0.2);
      @if $enable-shadows {
        box-shadow: inset 0 -1px 0 rgba($custom-control-indicator-checked-bg, 0.125);
      } @else {
        box-shadow: none;
      }
    }
  }

  .custom-control-input:checked {
    &:focus ~ .custom-control-label::before {
      // the mixin is not used here to make sure there is feedback
      @if $enable-shadows {
        box-shadow: $input-focus-box-shadow !important;
      } @else {
        box-shadow: none;
      }
    }
  }

  .custom-control-input:disabled {
    &:checked ~ .custom-control-label::before {
      background-color: $custom-control-indicator-checked-disabled-bg;
    }
  }
}

// custom badges

@each $color, $value in $theme-colors {
  .badge-#{$color} {
    @include badge-variant-custom(theme-color-level($color, $alert-bg-level), theme-color-level($color, $alert-border-level), $body-color);
  }
}

// description list

dt {
  color: $gray-900;
}
